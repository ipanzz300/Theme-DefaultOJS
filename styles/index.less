/**
 * @file plugins/themes/default/index.less
 *
 * Copyright (c) 2014-2021 Simon Fraser University
 * Copyright (c) 2003-2021 John Willinsky
 * Distributed under the GNU GPL v3. For full terms see the file docs/COPYING.
 *
 * @brief Default theme stylesheet
 *
 */

@import "../../../../lib/pkp/styles/fontawesome.less";
@import "../../../../lib/pkp/styles/normalize.less";
@import "../../../../lib/pkp/styles/variables.less";
@import "../../../../lib/pkp/styles/utils.less";
@import "../../../../lib/pkp/styles/helpers.less";

@import "variables.less";
@import "components.less";
@import "body.less";
@import "head.less";
@import "main.less";
@import "components/nav-toggle.less";
@import "pages/indexSite.less";
@import "pages/indexJournal.less";
@import "pages/category.less";
@import "pages/contact.less";
@import "pages/issueArchive.less";
@import "pages/issue.less";
@import "pages/login.less";
@import "pages/lostPassword.less";
@import "pages/register.less";
@import "pages/search.less";
@import "pages/section.less";
@import "pages/viewPdf.less";
@import "objects/announcement_full.less";
@import "objects/announcement_summary.less";
@import "objects/article_details.less";
@import "objects/article_summary.less";
@import "objects/galley_link.less";
@import "objects/issue_summary.less";
@import "objects/issue_toc.less";
@import "sidebar.less";
@import "footer.less";
@import "rtl.less";

/* ========================================================
   GLOBAL STYLES (Berlaku Semua Layar)
   ======================================================== */
html,
body {
  overflow-x: clip !important; /* Clip tetap menjaga kerapian samping tanpa mematikan fitur sticky */
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
}

/* Pastikan Toggle Menu HILANG di Desktop (Penyebab garis 3 muncul) */
.pkp_site_nav_toggle {
  display: none !important;
}

/* ========================================================
   KHUSUS TAMPILAN MOBILE (Layar < 768px)
   Kode ini TIDAK AKAN jalan di Desktop
   ======================================================== */
@media (max-width: 768px) {
  /* 1. Style Top Bar Mobile */
  body .top-simple-bar {
    display: flex !important;
    justify-content: center !important;
    background: #03192d !important;
    padding: 8px 0 !important;
    position: relative !important;
    z-index: 100 !important;
    width: 100% !important;
  }

  body .top-simple-bar .pkp_navigation_user li a {
    font-size: 0.85rem !important;
    color: #fff !important;
  }

  /* 2. Reset Header Desktop (Matikan Fixed Header di Mobile) */
  .pkp_head_wrapper {
    position: relative !important; /* Kembali normal, ga melayang */
    top: auto !important;
    padding-top: 10px !important;
    margin-top: 0 !important;
    background: #ffffff !important;
    box-shadow: none !important;
  }

  /* Hilangkan ganjalan padding konten karena header ga melayang lagi */
  .pkp_structure_page {
    padding-top: 0 !important;
  }

  /* 3. Container Menu Navigasi Mobile */
  .pkp_site_nav_menu {
    display: block !important;
    background: #ffffff !important;
    padding: 10px 0 15px 0 !important;
    border-bottom: 1px solid #f1f5f9 !important;
    width: 100% !important;
    overflow: hidden !important;

    /* Reset posisi dari desktop */
    position: relative !important;
    top: auto !important;
    transform: none !important;
    margin: 0 !important;
    box-shadow: none !important;
  }

  /* Sembunyikan elemen yg ga perlu di menu mobile */
  .pkp_nav_list_container .pkp_navigation_user,
  .pkp_nav_list_container .pkp_search {
    display: none !important;
  }

  /* 4. Menu Horizontal Scroll (Model Pil/Kapsul) */
  .pkp_navigation_primary {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important; /* Biar ga turun ke bawah */

    overflow-x: auto !important; /* Scroll samping */
    -webkit-overflow-scrolling: touch !important; /* Smooth scroll di iOS */

    /* Hilangkan Scrollbar kasar */
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;

    gap: 10px !important;
    padding: 0 20px !important;
    margin: 0 !important;
    width: 100% !important;
    align-items: center !important;
  }

  .pkp_navigation_primary::-webkit-scrollbar {
    display: none !important;
  }

  /* Item Menu */
  .pkp_navigation_primary > li {
    flex: 0 0 auto !important;
    width: auto !important;
    display: block !important;
    padding: 0 !important;
  }

  /* Styling Tombol Menu Mobile */
  .pkp_navigation_primary > li > a {
    display: inline-block !important;
    white-space: nowrap !important;

    padding: 8px 18px !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;

    background: #eff6ff !important;
    color: #0d6efd !important;
    border-radius: 50px !important;
    border: 1px solid #dbeafe !important;
    text-transform: capitalize !important;
    transition: all 0.2s !important;
  }

  /* Efek Aktif/Hover di Mobile */
  .pkp_navigation_primary > li > a:hover,
  .pkp_navigation_primary > li[aria-current="page"] > a {
    background: #0d6efd !important;
    color: #ffffff !important;
    border-color: #0d6efd !important;
    box-shadow: 0 4px 10px rgba(13, 110, 253, 0.2) !important;
  }
}
